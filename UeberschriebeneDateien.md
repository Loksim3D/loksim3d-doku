Worum geht es überhaupt?

Durch die offene Struktur ist in Loksim ist die Verwendung von Objekten, Texturen, Wetterdateien, etc von anderen Autoren sehr einfach möglich. Auch sind die Lizenzbedingungen der meisten Addons dafür ausgelegt, dass soetwas möglich ist. Durch diese Offenheit ergibt sich jedoch das Problem, dass fremde Dateien sehr einfach verändert und damit bei der Package Installation auch überschrieben werden können. Dieser kurze Ratgeber soll einen Leitfaden für Addon-Autoren und Betatester bieten, um soetwas zum einen verhindern und zum anderen erkennen zu können. Er zeigt auch, wie die Erstellung von "sauberen Packages" möglich ist.

Ich empfehle für Addon-Bauer folgende Vorgehensweise:

 Man verwendet ein "Arbeitsverzeichnis" wo man bzgl. überschriebenen Dateien etwas (aber nicht komplett) unachtsamer ist und wo man seine Addons erstellt und bearbeitet. Installiert man ein Package das in der drüben erwähnte Liste aufgeführt ist, lässt man jedenfalls das Überschreiben von Dateien zu. Bei nicht veröffentlichten Addons achtet man verdammt genau was überschrieben wird und wo man sich nicht sicher ist lässt man das Überschreiben nicht zu und fragt im entsprechenden Thread oder beim Package-Autor nach. Für Addons von "Drittseiten" wählt man einen Mittelweg, passt bzgl. überschriebenen Dateien auf und geht meist auf Nummer sicher. Da das nicht immer ganz leicht zu entscheiden ist, kann man es aber riskieren, dass hier ab und zu eine Datei "falsch" überschrieben wird.

 Neben dem Arbeitsverzeichnis baut man sich auch ein sauberes Verzeichnis wie im Eingangspost beschrieben und hält dieses möglichst aktuell (neue Addons die als "sauber" deklariert werden installieren). Hier kann man prinzipiell das Überschreiben von Dateien immer zulassen, jedoch hält man trotzdem die Augen offen und meldet "verdächtiges" Überschreiben im Forum und/oder dem Package-Autor. Schließlich ist niemand unfehlbar und es kann und wird immer wieder etwas durchrutschen das nicht so sein sollte.

 Geht es nun ans Erstellen eines Package erstellt man das Package ganz normal aus dem Arbeitsverzeichnis. Anschließend versucht man es im sauberen Verzeichnis zu erstellen (Option Vor überschreiben immer nachfragen) und schaut sich an welche Dateien überschrieben werden würden. Die Installation wird dann immer abgebrochen! Nun muss man alle Dateien die fälschlicherweise überschrieben werden "korrigieren". Dafür gibt es je nachdem wie "schlimm" es ist drei Möglichkeiten:
 a) Es werden keine Dateien fälschlicherweise überschrieben => Gratulation, Du hast sehr gut auf Dein Arbeitsverzeichnis aufgepasst und bekommst ein Mitarbeitsplus ;) 
 b) Es werden nur wenige Dateien fälschlicherweise überschrieben => Händisch die Dateien vom sauberen Verzeichnis ins Arbeitsverzeichnis kopieren, Package neu erstellen und wieder mit der hier beschriebenen Vorgangsweise überprüfen
 c) Es ist richtig schlimm => Installation abbrechen und gesamtes sauberes Verzeichnis kopieren. In diese Kopie wird dann das erstellte Package tatsächlich installiert, jedoch werden bei der Auswahl welche Dateien überschrieben werden sollen die fälschlicherweise installierten Dateien abgewählt bzw. nur die "richtigen" Überschreibungen angewählt. Dann erstellt man in diesem Verzeichnis das eigene Package erneut. Dieses neu erstellte Package wird dann im Arbeitsverzeichnis installiert, wobei Nur ältere Dateien ersetzen deaktiviert ist. Und wieder: Package neu erstellen und wieder mit der hier beschriebenen Vorgangsweise überprüfen

Wie erkenne ich bei der Installation von Packages welche Dateien fälschlicherweise überschrieben werden:
 Voraussetzung dafür ist, dass man (fast) alle sauberen Packages installiert hat. Dann sollten bei einem neuen Package fast immer nur Dateien vom Package-Autor selbst überschrieben werden. Bei allen anderen Dateien hilft nur Erfahrung, ein halbwegs guter Überblick über die Loksim-Addons und deren Autoren und sehr oft wohl nur explizites Nachfragen.
 Wichtig ist folgendes: Besser eine Datei bei Unsicherheit nicht überschreiben! Erfährt man dann, dass es ok ist, dass diese Datei überschrieben wird, kann man das Package einfach nochmal installieren und fertig. Der umgekehrte Weg ist komplizierter (mit der Package Installation rückgängig machen wenn noch möglich oder händisch Dateien herumkopieren)


Was mache ich als Addon-Autor wenn bei meinem Package das unberechtigte Überschreiben von Dateien festgestellt wird
 Das Wichtigste: Ruhe bewahren, es gibt wahrlich Schlimmeres im Leben. Falls noch nicht passiert, das oben beschriebene "saubere Verzeichnis" einrichten und der Prozedur für das Erstellen eines Package folgen.
 Hat man das schon gemacht, siehe nächsten Punkt

Wie kann ich feststellen ob eine Datei die von meinem Package überschrieben wird eigentlich aus einem anderen Package kommt und ich keine Schuld daran habe bzw. dass die Datei aus einem sauberen Package kommt und deshalb das Überschreiben ok ist
 Der PackageManager besitzt - wenn man die erweiterten Funktionen in den Optionen aktiviert hat - den Tab "Dateiabhängigkeiten anzeigen". Dieser kann für solche Zwecke verwendet werden. Einfach in diesem Tab den Namen bzw. den Pfad zur strittigen Datei angeben. Der PackageManager listet dann alle Packages auf in welchen diese Datei vorkommt. Das mit "*" gekennzeichnete Package das am weitesten oben angeführt ist hat die Datei zuletzt installiert. Die Datei stammt also aus diesem Package. Es kann jetzt aber trotzdem noch sein, dass man die Datei unabsichtlich selbst überschrieben hat. Deshalb muss man das aufgeführte Package suchen, mit einem Zip-Programm die entsprechende Datei entpacken und mit der Datei aus dem Loksim-Verzeichnis vergleichen. Stimmen die Dateien überein, hat man das Ursprungspackage der Datei gefunden und kann hftl den Streitfall aufklären.
 Einschränkungen: Wenn die Package Datenbank gelöscht wurde, Packages vor der Verwendung des PackageManagers oder per Hand installiert wurden, kann es sein, dass im PackageManager gar kein Package mit "*" gekennzeichnet ist. Dann ist der Ursprung wohl nicht mehr herausfindbar.
 Am besten dann einfach ein Package suchen wo die Datei vorkommt und die Datei händisch herauskopieren. Die Dateiabhängigkeiten anzeigen Funktion listet für diesen Fall wohl meist zumindest ein Package auf wo die Datei vorkommt, ansonsten muss man bei Kollegen nachfragen wo man denn diese Datei im Originalzustand herbekommt
